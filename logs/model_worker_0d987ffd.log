2024-01-08 20:48:16 | INFO | model_worker | Loading the model ['chatglm3-6b'] on worker 0d987ffd ...
2024-01-08 20:48:17 | ERROR | stderr | Process model_worker - chatglm3-6b:
2024-01-08 20:48:17 | ERROR | stderr | Traceback (most recent call last):
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 790, in urlopen
2024-01-08 20:48:17 | ERROR | stderr |     response = self._make_request(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 491, in _make_request
2024-01-08 20:48:17 | ERROR | stderr |     raise new_e
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 467, in _make_request
2024-01-08 20:48:17 | ERROR | stderr |     self._validate_conn(conn)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1092, in _validate_conn
2024-01-08 20:48:17 | ERROR | stderr |     conn.connect()
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connection.py", line 642, in connect
2024-01-08 20:48:17 | ERROR | stderr |     sock_and_verified = _ssl_wrap_socket_and_match_hostname(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connection.py", line 783, in _ssl_wrap_socket_and_match_hostname
2024-01-08 20:48:17 | ERROR | stderr |     ssl_sock = ssl_wrap_socket(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
2024-01-08 20:48:17 | ERROR | stderr |     ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
2024-01-08 20:48:17 | ERROR | stderr |     return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/ssl.py", line 513, in wrap_socket
2024-01-08 20:48:17 | ERROR | stderr |     return self.sslsocket_class._create(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/ssl.py", line 1071, in _create
2024-01-08 20:48:17 | ERROR | stderr |     self.do_handshake()
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/ssl.py", line 1342, in do_handshake
2024-01-08 20:48:17 | ERROR | stderr |     self._sslobj.do_handshake()
2024-01-08 20:48:17 | ERROR | stderr | ConnectionResetError: [Errno 104] Connection reset by peer
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | During handling of the above exception, another exception occurred:
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | Traceback (most recent call last):
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/requests/adapters.py", line 486, in send
2024-01-08 20:48:17 | ERROR | stderr |     resp = conn.urlopen(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 844, in urlopen
2024-01-08 20:48:17 | ERROR | stderr |     retries = retries.increment(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/util/retry.py", line 470, in increment
2024-01-08 20:48:17 | ERROR | stderr |     raise reraise(type(error), error, _stacktrace)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/util/util.py", line 38, in reraise
2024-01-08 20:48:17 | ERROR | stderr |     raise value.with_traceback(tb)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 790, in urlopen
2024-01-08 20:48:17 | ERROR | stderr |     response = self._make_request(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 491, in _make_request
2024-01-08 20:48:17 | ERROR | stderr |     raise new_e
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 467, in _make_request
2024-01-08 20:48:17 | ERROR | stderr |     self._validate_conn(conn)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connectionpool.py", line 1092, in _validate_conn
2024-01-08 20:48:17 | ERROR | stderr |     conn.connect()
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connection.py", line 642, in connect
2024-01-08 20:48:17 | ERROR | stderr |     sock_and_verified = _ssl_wrap_socket_and_match_hostname(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/connection.py", line 783, in _ssl_wrap_socket_and_match_hostname
2024-01-08 20:48:17 | ERROR | stderr |     ssl_sock = ssl_wrap_socket(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/util/ssl_.py", line 469, in ssl_wrap_socket
2024-01-08 20:48:17 | ERROR | stderr |     ssl_sock = _ssl_wrap_socket_impl(sock, context, tls_in_tls, server_hostname)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/urllib3/util/ssl_.py", line 513, in _ssl_wrap_socket_impl
2024-01-08 20:48:17 | ERROR | stderr |     return ssl_context.wrap_socket(sock, server_hostname=server_hostname)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/ssl.py", line 513, in wrap_socket
2024-01-08 20:48:17 | ERROR | stderr |     return self.sslsocket_class._create(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/ssl.py", line 1071, in _create
2024-01-08 20:48:17 | ERROR | stderr |     self.do_handshake()
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/ssl.py", line 1342, in do_handshake
2024-01-08 20:48:17 | ERROR | stderr |     self._sslobj.do_handshake()
2024-01-08 20:48:17 | ERROR | stderr | urllib3.exceptions.ProtocolError: ('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer'))
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | During handling of the above exception, another exception occurred:
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | Traceback (most recent call last):
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/file_download.py", line 1238, in hf_hub_download
2024-01-08 20:48:17 | ERROR | stderr |     metadata = get_hf_file_metadata(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 118, in _inner_fn
2024-01-08 20:48:17 | ERROR | stderr |     return fn(*args, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/file_download.py", line 1631, in get_hf_file_metadata
2024-01-08 20:48:17 | ERROR | stderr |     r = _request_wrapper(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/file_download.py", line 385, in _request_wrapper
2024-01-08 20:48:17 | ERROR | stderr |     response = _request_wrapper(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/file_download.py", line 408, in _request_wrapper
2024-01-08 20:48:17 | ERROR | stderr |     response = get_session().request(method=method, url=url, **params)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/requests/sessions.py", line 589, in request
2024-01-08 20:48:17 | ERROR | stderr |     resp = self.send(prep, **send_kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/requests/sessions.py", line 703, in send
2024-01-08 20:48:17 | ERROR | stderr |     r = adapter.send(request, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/utils/_http.py", line 67, in send
2024-01-08 20:48:17 | ERROR | stderr |     return super().send(request, *args, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/requests/adapters.py", line 501, in send
2024-01-08 20:48:17 | ERROR | stderr |     raise ConnectionError(err, request=request)
2024-01-08 20:48:17 | ERROR | stderr | requests.exceptions.ConnectionError: (ProtocolError('Connection aborted.', ConnectionResetError(104, 'Connection reset by peer')), '(Request ID: 946e96a8-eff0-4fb3-bf3f-18d4e56d30c1)')
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | The above exception was the direct cause of the following exception:
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | Traceback (most recent call last):
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/transformers/utils/hub.py", line 389, in cached_file
2024-01-08 20:48:17 | ERROR | stderr |     resolved_file = hf_hub_download(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/utils/_validators.py", line 118, in _inner_fn
2024-01-08 20:48:17 | ERROR | stderr |     return fn(*args, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/huggingface_hub/file_download.py", line 1371, in hf_hub_download
2024-01-08 20:48:17 | ERROR | stderr |     raise LocalEntryNotFoundError(
2024-01-08 20:48:17 | ERROR | stderr | huggingface_hub.utils._errors.LocalEntryNotFoundError: An error happened while trying to locate the file on the Hub and we cannot find the requested files in the local cache. Please check your connection and try again or make sure your Internet connection is on.
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | The above exception was the direct cause of the following exception:
2024-01-08 20:48:17 | ERROR | stderr | 
2024-01-08 20:48:17 | ERROR | stderr | Traceback (most recent call last):
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/multiprocessing/process.py", line 314, in _bootstrap
2024-01-08 20:48:17 | ERROR | stderr |     self.run()
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/multiprocessing/process.py", line 108, in run
2024-01-08 20:48:17 | ERROR | stderr |     self._target(*self._args, **self._kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/Langchain-Chatchat/startup.py", line 387, in run_model_worker
2024-01-08 20:48:17 | ERROR | stderr |     app = create_model_worker_app(log_level=log_level, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/Langchain-Chatchat/startup.py", line 215, in create_model_worker_app
2024-01-08 20:48:17 | ERROR | stderr |     worker = ModelWorker(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/fastchat/serve/model_worker.py", line 77, in __init__
2024-01-08 20:48:17 | ERROR | stderr |     self.model, self.tokenizer = load_model(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/fastchat/model/model_adapter.py", line 323, in load_model
2024-01-08 20:48:17 | ERROR | stderr |     model, tokenizer = adapter.load_model(model_path, kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/fastchat/model/model_adapter.py", line 774, in load_model
2024-01-08 20:48:17 | ERROR | stderr |     tokenizer = AutoTokenizer.from_pretrained(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/transformers/models/auto/tokenization_auto.py", line 752, in from_pretrained
2024-01-08 20:48:17 | ERROR | stderr |     config = AutoConfig.from_pretrained(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/transformers/models/auto/configuration_auto.py", line 1082, in from_pretrained
2024-01-08 20:48:17 | ERROR | stderr |     config_dict, unused_kwargs = PretrainedConfig.get_config_dict(pretrained_model_name_or_path, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/transformers/configuration_utils.py", line 644, in get_config_dict
2024-01-08 20:48:17 | ERROR | stderr |     config_dict, kwargs = cls._get_config_dict(pretrained_model_name_or_path, **kwargs)
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/transformers/configuration_utils.py", line 699, in _get_config_dict
2024-01-08 20:48:17 | ERROR | stderr |     resolved_config_file = cached_file(
2024-01-08 20:48:17 | ERROR | stderr |   File "/root/pyenv/lib/python3.10/site-packages/transformers/utils/hub.py", line 429, in cached_file
2024-01-08 20:48:17 | ERROR | stderr |     raise EnvironmentError(
2024-01-08 20:48:17 | ERROR | stderr | OSError: We couldn't connect to 'https://huggingface.co' to load this file, couldn't find it in the cached files and it looks like THUDM/chatglm3-6b is not the path to a directory containing a file named config.json.
2024-01-08 20:48:17 | ERROR | stderr | Checkout your internet connection or see how to run the library in offline mode at 'https://huggingface.co/docs/transformers/installation#offline-mode'.
